<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <link rel="shortcut icon" href="../../../_static/favicon.png"/><!-- Generated with Sphinx 8.2.3 and Furo 2025.07.19 -->
        <title>aiobale.client.client - aiobale 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=25af2a20" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles.css?v=e7073711" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">aiobale 0.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a href="../../../index.html" class="prof-cont" style="text-decoration: none;">
  <img src="../../../_static/logo.png" alt="Logo" style="height: 48px; border-radius: 12px;">
  <div>
    <div style="font-size: 1.1rem; font-weight: bold; margin-bottom: 0.25rem;">Aiobale <span style="font-size: 0.8rem; color: #aaa;">v0.1.0</span></div>
    <div style="font-size: 0.85rem; color: #888;">
        Modern async client for Bale.
    </div>
  </div>
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/get_started.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../pages/client_package.html">Client Package</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Client Package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../pages/bot/client.html">Client</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../pages/bot/events.html">Events</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Events</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.dispatcher.Dispatcher.html">Dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.dispatcher.Router.html">Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.dispatcher.Handler.html">Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.dispatcher.EventObserver.html">EventObserver</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../pages/bot/methods.html">Methods</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Methods</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SendMessage.html">SendMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.UpdateMessage.html">UpdateMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ForwardMessages.html">ForwardMessages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ClearChat.html">ClearChat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.DeleteMessage.html">DeleteMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.MessageRead.html">MessageRead</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.DeleteChat.html">DeleteChat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadHistory.html">LoadHistory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.PinMessage.html">PinMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.UnPinMessages.html">UnPinMessages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadPinnedMessages.html">LoadPinnedMessages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadDialogs.html">LoadDialogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.StartPhoneAuth.html">StartPhoneAuth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ValidateCode.html">ValidateCode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ValidatePassword.html">ValidatePassword</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditName.html">EditName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.CheckNickName.html">CheckNickName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditNickName.html">EditNickName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditAbout.html">EditAbout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadFullUsers.html">LoadFullUsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadUsers.html">LoadUsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditUserLocalName.html">EditUserLocalName</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.BlockUser.html">BlockUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.UnblockUser.html">UnblockUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadBlockedUsers.html">LoadBlockedUsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SearchContact.html">SearchContact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ImportContacts.html">ImportContacts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.ResetContacts.html">ResetContacts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.RemoveContact.html">RemoveContact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.AddContact.html">AddContact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetContacts.html">GetContacts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetMessagesReactions.html">GetMessagesReactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetMessageReactionsList.html">GetMessageReactionsList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.MessageSetReaction.html">MessageSetReaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.MessageRemoveReaction.html">MessageRemoveReaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetMessagesViews.html">GetMessagesViews</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetFullGroup.html">GetFullGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LoadMembers.html">LoadMembers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.CreateGroup.html">CreateGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.InviteUsers.html">InviteUsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditGroupTitle.html">EditGroupTitle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditGroupAbout.html">EditGroupAbout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SetRestriction.html">SetRestriction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetGroupInviteURL.html">GetGroupInviteURL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.RevokeInviteURL.html">RevokeInviteURL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.LeaveGroup.html">LeaveGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.TransferOwnership.html">TransferOwnership</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.RemoveUserAdmin.html">RemoveUserAdmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.MakeUserAdmin.html">MakeUserAdmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.KickUser.html">KickUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.JoinGroup.html">JoinGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.JoinPublicGroup.html">JoinPublicGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.PinGroupMessage.html">PinGroupMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.RemoveSinglePin.html">RemoveSinglePin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.RemoveAllPins.html">RemoveAllPins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetPins.html">GetPins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetMemberPermissions.html">GetMemberPermissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditChannelUsername.html">EditChannelUsername</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SetMemberPermissions.html">SetMemberPermissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SetGroupDefaultPermissions.html">SetGroupDefaultPermissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetBannedUsers.html">GetBannedUsers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.UnbanUser.html">UnbanUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetGroupPreview.html">GetGroupPreview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetFileUrl.html">GetFileUrl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetFileUploadUrl.html">GetFileUploadUrl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.EditParameter.html">EditParameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.GetParameters.html">GetParameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SendReport.html">SendReport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.SetOnline.html">SetOnline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.StopTyping.html">StopTyping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.Typing.html">Typing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.methods.BaleMethod.html">BaleMethod</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../pages/bot/types.html">Types</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Chat.html">Chat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Message.html">Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageContent.html">MessageContent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Peer.html">Peer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ClientData.html">ClientData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.TextMessage.html">TextMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.OtherMessage.html">OtherMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Request.html">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.RequestBody.html">RequestBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Response.html">Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.AuthBody.html">AuthBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ExtData.html">ExtData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ExtValue.html">ExtValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MetaList.html">MetaList</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.IntBool.html">IntBool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UserAuth.html">UserAuth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UpdateBody.html">UpdateBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Update.html">Update</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.StringValue.html">StringValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.IntValue.html">IntValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.BytesValue.html">BytesValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.InfoMessage.html">InfoMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.QuotedMessage.html">QuotedMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageData.html">MessageData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.SelectedMessages.html">SelectedMessages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ChatData.html">ChatData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UsernameChanged.html">UsernameChanged</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.AboutChanged.html">AboutChanged</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UpdatedMessage.html">UpdatedMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.PeerData.html">PeerData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.InfoPeer.html">InfoPeer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FullUser.html">FullUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ExtKeyValue.html">ExtKeyValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.User.html">User</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ContactData.html">ContactData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UserBlocked.html">UserBlocked</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.UserUnblocked.html">UserUnblocked</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.GroupMessagePinned.html">GroupMessagePinned</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.GroupPinRemoved.html">GroupPinRemoved</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ShortPeer.html">ShortPeer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Report.html">Report</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.PeerReport.html">PeerReport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageReport.html">MessageReport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Reaction.html">Reaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageReactions.html">MessageReactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.ReactionData.html">ReactionData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageViews.html">MessageViews</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FullGroup.html">FullGroup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Member.html">Member</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Group.html">Group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.BoolValue.html">BoolValue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Condition.html">Condition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.BanData.html">BanData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FileInfo.html">FileInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FileURL.html">FileURL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.SendTypeModel.html">SendTypeModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FileDetails.html">FileDetails</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FileInput.html">FileInput</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.FileUploadInfo.html">FileUploadInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.DocumentMessage.html">DocumentMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.MessageCaption.html">MessageCaption</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.Thumbnail.html">Thumbnail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.VideoExt.html">VideoExt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.VoiceExt.html">VoiceExt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.AudioExt.html">AudioExt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.PhotoExt.html">PhotoExt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.DocumentsExt.html">DocumentsExt</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../pages/bot/enums.html">Enums</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Enums</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.ChatType.html">ChatType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.PeerType.html">PeerType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.Services.html">Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.SendCodeType.html">SendCodeType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.ListLoadMode.html">ListLoadMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.PrivacyMode.html">PrivacyMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.ReportKind.html">ReportKind</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.PeerSource.html">PeerSource</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.TypingMode.html">TypingMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.GroupType.html">GroupType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.Restriction.html">Restriction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.enums.SendType.html">SendType</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../pages/bot/responses.html">Responses</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Responses</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.DefaultResponse.html">DefaultResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.MessageResponse.html">MessageResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.PhoneAuthResponse.html">PhoneAuthResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ValidateCodeResponse.html">ValidateCodeResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.NickNameAvailable.html">NickNameAvailable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.HistoryResponse.html">HistoryResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.DialogResponse.html">DialogResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.FullUsersResponse.html">FullUsersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.UsersResponse.html">UsersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.BlockedUsersResponse.html">BlockedUsersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ContactResponse.html">ContactResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ContactsResponse.html">ContactsResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ParametersResponse.html">ParametersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ReactionsResponse.html">ReactionsResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ReactionListResponse.html">ReactionListResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ReactionSentResponse.html">ReactionSentResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.ViewsResponse.html">ViewsResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.FullGroupResponse.html">FullGroupResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.MembersResponse.html">MembersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.GroupCreatedResponse.html">GroupCreatedResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.InviteResponse.html">InviteResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.InviteURLResponse.html">InviteURLResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.JoinedGroupResponse.html">JoinedGroupResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.GetPinsResponse.html">GetPinsResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.MemberPermissionsResponse.html">MemberPermissionsResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.BannedUsersResponse.html">BannedUsersResponse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../pages/bot/_autosummary/aiobale.types.responses.FileURLResponse.html">FileURLResponse</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/updates.html">Handling Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pages/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Enalite/aiobale">Github</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <h1>Source code for aiobale.client.client</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pathlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">aiofiles</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">AsyncGenerator</span><span class="p">,</span>
    <span class="n">BinaryIO</span><span class="p">,</span>
    <span class="n">Callable</span><span class="p">,</span>
    <span class="n">List</span><span class="p">,</span>
    <span class="n">Literal</span><span class="p">,</span>
    <span class="n">Optional</span><span class="p">,</span>
    <span class="n">Tuple</span><span class="p">,</span>
    <span class="n">Type</span><span class="p">,</span>
    <span class="n">Final</span><span class="p">,</span>
    <span class="n">Union</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">types</span><span class="w"> </span><span class="kn">import</span> <span class="n">TracebackType</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">suppress</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">.session</span><span class="w"> </span><span class="kn">import</span> <span class="n">AiohttpSession</span><span class="p">,</span> <span class="n">BaseSession</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">AiobaleError</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">parse_jwt</span><span class="p">,</span> <span class="n">generate_id</span><span class="p">,</span> <span class="n">clean_grpc</span><span class="p">,</span> <span class="n">extract_join_token</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..methods</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">SendMessage</span><span class="p">,</span>
    <span class="n">BaleMethod</span><span class="p">,</span>
    <span class="n">BaleType</span><span class="p">,</span>
    <span class="n">StartPhoneAuth</span><span class="p">,</span>
    <span class="n">ValidateCode</span><span class="p">,</span>
    <span class="n">DeleteMessage</span><span class="p">,</span>
    <span class="n">ForwardMessages</span><span class="p">,</span>
    <span class="n">MessageRead</span><span class="p">,</span>
    <span class="n">EditName</span><span class="p">,</span>
    <span class="n">EditNickName</span><span class="p">,</span>
    <span class="n">CheckNickName</span><span class="p">,</span>
    <span class="n">UpdateMessage</span><span class="p">,</span>
    <span class="n">ClearChat</span><span class="p">,</span>
    <span class="n">DeleteChat</span><span class="p">,</span>
    <span class="n">LoadHistory</span><span class="p">,</span>
    <span class="n">SetOnline</span><span class="p">,</span>
    <span class="n">PinMessage</span><span class="p">,</span>
    <span class="n">UnPinMessages</span><span class="p">,</span>
    <span class="n">LoadPinnedMessages</span><span class="p">,</span>
    <span class="n">LoadDialogs</span><span class="p">,</span>
    <span class="n">EditAbout</span><span class="p">,</span>
    <span class="n">LoadFullUsers</span><span class="p">,</span>
    <span class="n">LoadUsers</span><span class="p">,</span>
    <span class="n">EditUserLocalName</span><span class="p">,</span>
    <span class="n">BlockUser</span><span class="p">,</span>
    <span class="n">UnblockUser</span><span class="p">,</span>
    <span class="n">LoadBlockedUsers</span><span class="p">,</span>
    <span class="n">SearchContact</span><span class="p">,</span>
    <span class="n">ImportContacts</span><span class="p">,</span>
    <span class="n">ResetContacts</span><span class="p">,</span>
    <span class="n">RemoveContact</span><span class="p">,</span>
    <span class="n">AddContact</span><span class="p">,</span>
    <span class="n">GetContacts</span><span class="p">,</span>
    <span class="n">SendReport</span><span class="p">,</span>
    <span class="n">StopTyping</span><span class="p">,</span>
    <span class="n">Typing</span><span class="p">,</span>
    <span class="n">GetParameters</span><span class="p">,</span>
    <span class="n">EditParameter</span><span class="p">,</span>
    <span class="n">GetMessagesReactions</span><span class="p">,</span>
    <span class="n">GetMessageReactionsList</span><span class="p">,</span>
    <span class="n">MessageSetReaction</span><span class="p">,</span>
    <span class="n">MessageRemoveReaction</span><span class="p">,</span>
    <span class="n">GetMessagesViews</span><span class="p">,</span>
    <span class="n">ValidatePassword</span><span class="p">,</span>
    <span class="n">GetFullGroup</span><span class="p">,</span>
    <span class="n">LoadMembers</span><span class="p">,</span>
    <span class="n">CreateGroup</span><span class="p">,</span>
    <span class="n">InviteUsers</span><span class="p">,</span>
    <span class="n">EditGroupTitle</span><span class="p">,</span>
    <span class="n">EditGroupAbout</span><span class="p">,</span>
    <span class="n">SetRestriction</span><span class="p">,</span>
    <span class="n">GetGroupInviteURL</span><span class="p">,</span>
    <span class="n">RevokeInviteURL</span><span class="p">,</span>
    <span class="n">LeaveGroup</span><span class="p">,</span>
    <span class="n">TransferOwnership</span><span class="p">,</span>
    <span class="n">RemoveUserAdmin</span><span class="p">,</span>
    <span class="n">MakeUserAdmin</span><span class="p">,</span>
    <span class="n">KickUser</span><span class="p">,</span>
    <span class="n">RemoveUserAdmin</span><span class="p">,</span>
    <span class="n">JoinGroup</span><span class="p">,</span>
    <span class="n">JoinPublicGroup</span><span class="p">,</span>
    <span class="n">PinGroupMessage</span><span class="p">,</span>
    <span class="n">RemoveSinglePin</span><span class="p">,</span>
    <span class="n">RemoveAllPins</span><span class="p">,</span>
    <span class="n">GetPins</span><span class="p">,</span>
    <span class="n">EditChannelUsername</span><span class="p">,</span>
    <span class="n">SetMemberPermissions</span><span class="p">,</span>
    <span class="n">GetMemberPermissions</span><span class="p">,</span>
    <span class="n">SetGroupDefaultPermissions</span><span class="p">,</span>
    <span class="n">GetBannedUsers</span><span class="p">,</span>
    <span class="n">UnbanUser</span><span class="p">,</span>
    <span class="n">GetGroupPreview</span><span class="p">,</span>
    <span class="n">GetFileUrl</span><span class="p">,</span>
    <span class="n">GetFileUploadUrl</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..types</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">MessageContent</span><span class="p">,</span>
    <span class="n">ClientData</span><span class="p">,</span>
    <span class="n">Peer</span><span class="p">,</span>
    <span class="n">Chat</span><span class="p">,</span>
    <span class="n">TextMessage</span><span class="p">,</span>
    <span class="n">DocumentMessage</span><span class="p">,</span>
    <span class="n">UserAuth</span><span class="p">,</span>
    <span class="n">IntValue</span><span class="p">,</span>
    <span class="n">Message</span><span class="p">,</span>
    <span class="n">InfoMessage</span><span class="p">,</span>
    <span class="n">StringValue</span><span class="p">,</span>
    <span class="n">OtherMessage</span><span class="p">,</span>
    <span class="n">MessageData</span><span class="p">,</span>
    <span class="n">QuotedMessage</span><span class="p">,</span>
    <span class="n">PeerData</span><span class="p">,</span>
    <span class="n">InfoPeer</span><span class="p">,</span>
    <span class="n">FullUser</span><span class="p">,</span>
    <span class="n">User</span><span class="p">,</span>
    <span class="n">ContactData</span><span class="p">,</span>
    <span class="n">Report</span><span class="p">,</span>
    <span class="n">PeerReport</span><span class="p">,</span>
    <span class="n">MessageReport</span><span class="p">,</span>
    <span class="n">ExtKeyValue</span><span class="p">,</span>
    <span class="n">MessageReactions</span><span class="p">,</span>
    <span class="n">ReactionData</span><span class="p">,</span>
    <span class="n">Reaction</span><span class="p">,</span>
    <span class="n">MessageViews</span><span class="p">,</span>
    <span class="n">FullGroup</span><span class="p">,</span>
    <span class="n">ShortPeer</span><span class="p">,</span>
    <span class="n">Member</span><span class="p">,</span>
    <span class="n">Condition</span><span class="p">,</span>
    <span class="n">BoolValue</span><span class="p">,</span>
    <span class="n">Permissions</span><span class="p">,</span>
    <span class="n">BanData</span><span class="p">,</span>
    <span class="n">FileInfo</span><span class="p">,</span>
    <span class="n">FileURL</span><span class="p">,</span>
    <span class="n">FileInput</span><span class="p">,</span>
    <span class="n">FileUploadInfo</span><span class="p">,</span>
    <span class="n">FileDetails</span><span class="p">,</span>
    <span class="n">SendTypeModel</span><span class="p">,</span>
    <span class="n">MessageCaption</span><span class="p">,</span>
    <span class="n">Thumbnail</span><span class="p">,</span>
    <span class="n">VideoExt</span><span class="p">,</span>
    <span class="n">VoiceExt</span><span class="p">,</span>
    <span class="n">AudioExt</span><span class="p">,</span>
    <span class="n">PhotoExt</span><span class="p">,</span>
    <span class="n">DocumentsExt</span><span class="p">,</span>
    <span class="n">UpdateBody</span><span class="p">,</span>
    <span class="n">Request</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..types.responses</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">MessageResponse</span><span class="p">,</span>
    <span class="n">PhoneAuthResponse</span><span class="p">,</span>
    <span class="n">ValidateCodeResponse</span><span class="p">,</span>
    <span class="n">DefaultResponse</span><span class="p">,</span>
    <span class="n">NickNameAvailable</span><span class="p">,</span>
    <span class="n">HistoryResponse</span><span class="p">,</span>
    <span class="n">DialogResponse</span><span class="p">,</span>
    <span class="n">FullUsersResponse</span><span class="p">,</span>
    <span class="n">UsersResponse</span><span class="p">,</span>
    <span class="n">BlockedUsersResponse</span><span class="p">,</span>
    <span class="n">ContactResponse</span><span class="p">,</span>
    <span class="n">ContactsResponse</span><span class="p">,</span>
    <span class="n">ParametersResponse</span><span class="p">,</span>
    <span class="n">ReactionsResponse</span><span class="p">,</span>
    <span class="n">ReactionListResponse</span><span class="p">,</span>
    <span class="n">ReactionSentResponse</span><span class="p">,</span>
    <span class="n">ViewsResponse</span><span class="p">,</span>
    <span class="n">FullGroupResponse</span><span class="p">,</span>
    <span class="n">MembersResponse</span><span class="p">,</span>
    <span class="n">GroupCreatedResponse</span><span class="p">,</span>
    <span class="n">InviteResponse</span><span class="p">,</span>
    <span class="n">InviteURLResponse</span><span class="p">,</span>
    <span class="n">JoinedGroupResponse</span><span class="p">,</span>
    <span class="n">GetPinsResponse</span><span class="p">,</span>
    <span class="n">MemberPermissionsResponse</span><span class="p">,</span>
    <span class="n">BannedUsersResponse</span><span class="p">,</span>
    <span class="n">FileURLResponse</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..enums</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ChatType</span><span class="p">,</span>
    <span class="n">PeerType</span><span class="p">,</span>
    <span class="n">SendCodeType</span><span class="p">,</span>
    <span class="n">ListLoadMode</span><span class="p">,</span>
    <span class="n">PeerSource</span><span class="p">,</span>
    <span class="n">ReportKind</span><span class="p">,</span>
    <span class="n">TypingMode</span><span class="p">,</span>
    <span class="n">Restriction</span><span class="p">,</span>
    <span class="n">GroupType</span><span class="p">,</span>
    <span class="n">SendType</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..dispatcher.dispatcher</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dispatcher</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">..logger</span><span class="w"> </span><span class="kn">import</span> <span class="n">logger</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.auth_cli</span><span class="w"> </span><span class="kn">import</span> <span class="n">PhoneLoginCLI</span>


<span class="n">DEFAULT_SESSION</span><span class="p">:</span> <span class="n">Final</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;./session.bale&quot;</span>


<div class="viewcode-block" id="Client">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Client</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main interface for interacting with the Bale API.</span>

<span class="sd">    ----</span>

<span class="sd">    This class manages the session, dispatches updates, and provides core context</span>
<span class="sd">    for sending and receiving messages. It acts as the entry point to most high-level</span>
<span class="sd">    API functionality.</span>

<span class="sd">    .. warning::</span>

<span class="sd">        Improper or abusive use of this client  such as spamming, unauthorized automation,</span>
<span class="sd">        or violating platform rules  can result in account suspension or permanent bans.</span>
<span class="sd">        Always follow Bales official API usage policies.</span>

<span class="sd">    A :class:Client instance can be initialized with an optional :class:Dispatcher object.</span>
<span class="sd">    While the dispatcher is not required, it must be provided if you intend to handle incoming updates.</span>
<span class="sd">    You may also optionally provide a session file or a custom session backend.</span>
<span class="sd">    If none is given, a default Aiohttp-based session will be used.</span>

<span class="sd">    If a token is not found in the session file, authentication falls back to the CLI login flow.</span>

<span class="sd">    .. note::</span>

<span class="sd">        The session file path must end with a ``.bale`` extension. Otherwise, an</span>
<span class="sd">        :class:`AiobaleError` will be raised during initialization.</span>

<span class="sd">    Internally, the client binds the session to itself and loads authentication tokens,</span>
<span class="sd">    metadata, and user context if available.</span>

<span class="sd">    Most timestamp values returned by the API (such as message time, update time, etc.)</span>
<span class="sd">    are in milliseconds since the UNIX epoch.</span>

<span class="sd">    .. note::</span>

<span class="sd">        When working with datetime objects in Python, divide these values by 1000</span>
<span class="sd">        before converting with `datetime.fromtimestamp()` or related utilities.</span>

<span class="sd">    In the Bale protocol, the concept of a &quot;group&quot; encompasses both regular groups and</span>
<span class="sd">    broadcast channels. They are distinguished by specific internal flags but are</span>
<span class="sd">    represented uniformly in API responses.</span>

<span class="sd">    .. note::</span>

<span class="sd">        You can safely create a client instance even if you don&#39;t have a valid session yet.</span>
<span class="sd">        The CLI login flow will guide you through the authentication process interactively.</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Client.__init__">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dispatcher</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dispatcher</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">session_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_SESSION</span><span class="p">,</span>
        <span class="n">session</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseSession</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">session</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">session</span> <span class="o">=</span> <span class="n">AiohttpSession</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">_bind_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">:</span> <span class="n">BaseSession</span> <span class="o">=</span> <span class="n">session</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dispatcher</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dispatcher</span><span class="p">]</span> <span class="o">=</span> <span class="n">dispatcher</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ping_id</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">session_file</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">session_file</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span>
            <span class="s2">&quot;.bale&quot;</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid session file: </span><span class="si">{</span><span class="n">session_file</span><span class="si">!r}</span><span class="s2">. &quot;</span>
                <span class="s2">&quot;Only `.bale` files are allowed.&quot;</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span> <span class="o">=</span> <span class="n">session_file</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__token</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_me</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_add_token_via_file</span><span class="p">()</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">token</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the currently loaded authentication token for the session.</span>

<span class="sd">        This token is required for making authorized API requests. It is either</span>
<span class="sd">        loaded from the session file or obtained during the interactive login flow.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__token</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">me</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClientData</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns information about the authenticated user.</span>

<span class="sd">        This includes details such as user ID and other metadata</span>
<span class="sd">        returned from the Bale API after successful login.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_me</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the numeric ID of the authenticated user.</span>

<span class="sd">        Equivalent to `client.me.id`. Useful as a shortcut for user identification</span>
<span class="sd">        in event handling and API interactions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_me</span><span class="o">.</span><span class="n">id</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_write_session_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_session_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__session_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_parse_session_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValidateCodeResponse</span><span class="p">:</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">decoder</span><span class="p">(</span><span class="n">clean_grpc</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">ValidateCodeResponse</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">decoded</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__token</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">jwt</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_me</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_token</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_add_token_via_file</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_session_content</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">content</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_parse_session_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_ensure_token_exists</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__token</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_add_token_via_file</span><span class="p">():</span>
                <span class="n">auth_cli</span> <span class="o">=</span> <span class="n">PhoneLoginCLI</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
                <span class="k">await</span> <span class="n">auth_cli</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="n">BaleMethod</span><span class="p">[</span><span class="n">BaleType</span><span class="p">]):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_token_exists</span><span class="p">()</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">just_bale_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__token</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_send_ping</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">is_closed</span><span class="p">():</span>
                <span class="k">return</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_ping_id</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">ping_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ping_id</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">ping</span><span class="o">=</span><span class="n">IntValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">ping_id</span><span class="p">))</span>
            <span class="n">payload</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by_alias</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">encoder</span><span class="p">(</span><span class="n">payload</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">send_bytes</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;ping_</span><span class="si">{</span><span class="n">ping_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Ping failed. Closing session to trigger restart.&quot;</span><span class="p">)</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_ping_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_ping</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unexpected error in ping loop: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_safe_listen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">_listen</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Listen failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<div class="viewcode-block" id="Client.start">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.start">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">run_in_background</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts the client session and begins listening for events.</span>
<span class="sd">        Args:</span>
<span class="sd">            run_in_background (bool, optional): If True, starts listening in a background task;</span>
<span class="sd">                otherwise, listens in the current coroutine. Defaults to False.</span>
<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during connection or handshake.</span>
<span class="sd">            AiobaleError: For client-side errors such as invalid token or session issues.</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        This method ensures the authentication token exists, connects to the server, performs the handshake,</span>
<span class="sd">        and starts listening for incoming events. Use `run_in_background=True` to keep listening without blocking</span>
<span class="sd">        the current coroutine.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_token_exists</span><span class="p">()</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_lock</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying to connect...&quot;</span><span class="p">)</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__token</span><span class="p">)</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">handshake_request</span><span class="p">()</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Connected successfully.&quot;</span><span class="p">)</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
                        <span class="k">with</span> <span class="n">suppress</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">):</span>
                            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ping_loop</span><span class="p">())</span>

                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connection failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
                    <span class="k">continue</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">run_in_background</span><span class="p">:</span>
                    <span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_safe_listen</span><span class="p">())</span>
                    <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_safe_listen</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Start cancelled.&quot;</span><span class="p">)</span>
                <span class="k">break</span></div>


<div class="viewcode-block" id="Client.stop">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.stop">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gracefully stops the client by closing the associated session.</span>

<span class="sd">        This method ensures that all resources tied to the session are properly</span>
<span class="sd">        released. It should be called when the client is no longer needed to</span>
<span class="sd">        prevent resource leaks.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">suppress</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">CancelledError</span><span class="p">):</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ping_task</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>


<div class="viewcode-block" id="Client.handle_update">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.handle_update">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="n">UpdateBody</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handle a single incoming update event from the Bale API.</span>

<span class="sd">        This method processes the incoming `UpdateBody`, extracts the current event,</span>
<span class="sd">        and dispatches it to the associated dispatcher, if available. Messages sent by</span>
<span class="sd">        the client itself are ignored.</span>

<span class="sd">        Args:</span>
<span class="sd">            update (UpdateBody): The incoming update payload received from the API.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">update</span><span class="o">.</span><span class="n">body</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">event_info</span> <span class="o">=</span> <span class="n">update</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">current_event</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">event_info</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">event_type</span><span class="p">,</span> <span class="n">event</span> <span class="o">=</span> <span class="n">event_info</span>

        <span class="c1"># Ignore messages sent by this client</span>
        <span class="k">if</span> <span class="n">event_type</span> <span class="o">==</span> <span class="s2">&quot;message&quot;</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="s2">&quot;sender_id&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatcher</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">dispatcher</span><span class="o">.</span><span class="n">dispatch</span><span class="p">(</span><span class="n">event_type</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></div>


    <span class="nd">@classmethod</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">__download_file_binary_io</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">,</span> <span class="n">seek</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BinaryIO</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
            <span class="n">destination</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>
            <span class="n">destination</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">seek</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">destination</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">destination</span>

    <span class="nd">@classmethod</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">__download_file</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">],</span> <span class="n">stream</span><span class="p">:</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
                <span class="k">await</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__aenter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Client</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__aexit__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
        <span class="n">exc_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
        <span class="n">traceback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_check_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">UserAuth</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClientData</span><span class="p">:</span>
        <span class="n">token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__token</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">parse_jwt</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Not a valid jwt token&quot;</span><span class="p">)</span>

        <span class="n">data</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">if</span> <span class="s2">&quot;payload&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Wrong jwt payload&quot;</span><span class="p">)</span>

        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">][</span><span class="s2">&quot;user&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span>
        <span class="k">return</span> <span class="n">ClientData</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;payload&quot;</span><span class="p">])</span>

<div class="viewcode-block" id="Client.start_phone_auth">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.start_phone_auth">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_phone_auth</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">phone_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">code_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SendCodeType</span><span class="p">]</span> <span class="o">=</span> <span class="n">SendCodeType</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PhoneAuthResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initiates phone authentication by sending a code to the specified phone number.</span>

<span class="sd">        Args:</span>
<span class="sd">            phone_number (int): The phone number to authenticate.</span>
<span class="sd">            code_type (Optional[aiobale.enums.SendCodeType], optional): Type of code to send. Defaults to SendCodeType.DEFAULT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.PhoneAuthResponse: Contains transaction hash and other authentication details.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during authentication.</span>
<span class="sd">            AiobaleError: If the phone number is banned or other client-side errors occur.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">StartPhoneAuth</span><span class="p">(</span>
            <span class="n">phone_number</span><span class="o">=</span><span class="n">phone_number</span><span class="p">,</span>
            <span class="n">app_id</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
            <span class="n">app_key</span><span class="o">=</span><span class="s2">&quot;C28D46DC4C3A7A26564BFCC48B929086A95C93C98E789A19847BEE8627DE4E7D&quot;</span><span class="p">,</span>
            <span class="n">device_hash</span><span class="o">=</span><span class="s2">&quot;ce5ced83-a9ab-47fa-80c8-ed425eeb2ace&quot;</span><span class="p">,</span>
            <span class="n">device_title</span><span class="o">=</span><span class="s2">&quot;Chrome_138.0.0.0, Windows&quot;</span><span class="p">,</span>
            <span class="n">send_code_type</span><span class="o">=</span><span class="n">code_type</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;This phone number is banned&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.validate_code">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.validate_code">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">validate_code</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">transaction_hash</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValidateCodeResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the authentication code received via SMS or other means.</span>

<span class="sd">        Args:</span>
<span class="sd">            code (str): The code received for authentication.</span>
<span class="sd">            transaction_hash (str): The transaction hash from the login step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.ValidateCodeResponse: Contains JWT token and user authentication data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during validation.</span>
<span class="sd">            AiobaleError: For invalid code, password requirement, or client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">ValidateCode</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">,</span> <span class="n">transaction_hash</span><span class="o">=</span><span class="n">transaction_hash</span><span class="p">)</span>

        <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;PHONE_CODE_INVALID&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Invalid code specified.&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;password needed for login&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Password needed for login&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Unknown Error&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_session_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_session_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Error while parsing data.&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>


<div class="viewcode-block" id="Client.validate_password">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.validate_password">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">validate_password</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">transaction_hash</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValidateCodeResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the password for two-factor authentication if required.</span>

<span class="sd">        Args:</span>
<span class="sd">            password (str): The password for authentication.</span>
<span class="sd">            transaction_hash (str): The transaction hash from the login step.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.ValidateCodeResponse: Contains JWT token and user authentication data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during validation.</span>
<span class="sd">            AiobaleError: For wrong password or client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">ValidatePassword</span><span class="p">(</span><span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span> <span class="n">transaction_hash</span><span class="o">=</span><span class="n">transaction_hash</span><span class="p">)</span>

        <span class="n">content</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">content</span> <span class="o">==</span> <span class="s2">&quot;wrong password&quot;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Wrong password specified.&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Unknown Error&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write_session_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse_session_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Error while parsing data.&quot;</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span></div>


<div class="viewcode-block" id="Client.send_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a text message to a specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            text (str): The message text to send.</span>
<span class="sd">            chat_id (int): The target chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat (private, group, etc.).</span>
<span class="sd">            reply_to (Optional[aiobale.types.Message or aiobale.types.InfoMessage], optional): Message to reply to. Defaults to None.</span>
<span class="sd">            message_id (Optional[int], optional): Custom message ID. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The sent message object.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during sending.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">message_id</span> <span class="o">=</span> <span class="n">message_id</span> <span class="ow">or</span> <span class="n">generate_id</span><span class="p">()</span>

        <span class="n">content</span> <span class="o">=</span> <span class="n">MessageContent</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">TextMessage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">text</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">reply_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">reply_to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_info_message</span><span class="p">(</span><span class="n">reply_to</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">SendMessage</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">MessageResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">message</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_resolve_peer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PeerType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resolves the PeerType based on the given ChatType.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The chat type.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.enums.PeerType: The resolved peer type.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">chat_type</span> <span class="o">==</span> <span class="n">ChatType</span><span class="o">.</span><span class="n">UNKNOWN</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PeerType</span><span class="o">.</span><span class="n">UNKNOWN</span>
        <span class="k">elif</span> <span class="n">chat_type</span> <span class="ow">in</span> <span class="p">(</span><span class="n">ChatType</span><span class="o">.</span><span class="n">PRIVATE</span><span class="p">,</span> <span class="n">ChatType</span><span class="o">.</span><span class="n">BOT</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">PeerType</span><span class="o">.</span><span class="n">PRIVATE</span>
        <span class="k">return</span> <span class="n">PeerType</span><span class="o">.</span><span class="n">GROUP</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_resolve_peer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat</span><span class="p">:</span> <span class="n">Chat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Peer</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a Chat object to a Peer object.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat (aiobale.types.Chat): The chat object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Peer: The corresponding peer object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">)</span>

<div class="viewcode-block" id="Client.edit_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the content of an existing message.</span>

<span class="sd">        Args:</span>
<span class="sd">            text (str): The new message text.</span>
<span class="sd">            message_id (int): The ID of the message to edit.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during editing.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">MessageContent</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">TextMessage</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">text</span><span class="p">))</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">UpdateMessage</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span> <span class="n">updated_message</span><span class="o">=</span><span class="n">content</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.delete_messages">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.delete_messages">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_messages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">message_dates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">just_me</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes multiple messages from a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message_ids (List[int]): List of message IDs to delete.</span>
<span class="sd">            message_dates (List[int]): List of corresponding message dates.</span>
<span class="sd">            chat_id (int): The chat ID containing the messages.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            just_me (Optional[bool], optional): If True, deletes only for the current user. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the delete operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during deletion.</span>
<span class="sd">            AiobaleError: If input lists are empty or for other client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">message_ids</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">message_dates</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;`message_ids` or `message_dates` can not be empty&quot;</span><span class="p">)</span>

        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">DeleteMessage</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">message_ids</span><span class="p">,</span>
            <span class="n">dates</span><span class="o">=</span><span class="n">message_dates</span><span class="p">,</span>
            <span class="n">just_me</span><span class="o">=</span><span class="n">IntValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">just_me</span><span class="p">)),</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.delete_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.delete_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">message_date</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">just_me</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes a single message from a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message_id (int): The ID of the message to delete.</span>
<span class="sd">            message_date (int): The date of the message.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            just_me (Optional[bool], optional): If True, deletes only for the current user. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the delete operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during deletion.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_messages</span><span class="p">(</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="p">[</span><span class="n">message_id</span><span class="p">],</span>
            <span class="n">message_dates</span><span class="o">=</span><span class="p">[</span><span class="n">message_date</span><span class="p">],</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">just_me</span><span class="o">=</span><span class="n">just_me</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.forward_messages">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.forward_messages">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">forward_messages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">new_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Forwards multiple messages to another chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            messages (List[aiobale.types.Message or aiobale.types.InfoMessage]): List of messages to forward.</span>
<span class="sd">            chat_id (int): The target chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of target chat.</span>
<span class="sd">            new_ids (Optional[List[int]], optional): List of new message IDs for the forwarded messages. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the forward operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during forwarding.</span>
<span class="sd">            AiobaleError: If input lists are empty or mismatched, or for other client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">messages</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;`messages` cannot be empty&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">new_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">new_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">generate_id</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_ids</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">messages</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Mismatch between number of `new_ids` and `messages`&quot;</span><span class="p">)</span>

        <span class="n">target_peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span>

        <span class="n">forwarded_messages</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_info_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">]</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">ForwardMessages</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">target_peer</span><span class="p">,</span> <span class="n">message_ids</span><span class="o">=</span><span class="n">new_ids</span><span class="p">,</span> <span class="n">forwarded_messages</span><span class="o">=</span><span class="n">forwarded_messages</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_ensure_info_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">InfoMessage</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a Message object to an InfoMessage if necessary.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, aiobale.types.InfoMessage]): The message to ensure as InfoMessage.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.InfoMessage: The InfoMessage representation of the input.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">message</span>

        <span class="n">origin_peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">chat</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">InfoMessage</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">origin_peer</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">IntValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_ensure_other_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">seq</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InfoMessage</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts a Message or InfoMessage to OtherMessage, optionally setting the sequence.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, aiobale.types.InfoMessage, aiobale.types.OtherMessage]): The message to convert.</span>
<span class="sd">            seq (Optional[int], optional): Sequence number to set. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.OtherMessage: The OtherMessage representation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">seq</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">message</span><span class="o">.</span><span class="n">seq</span> <span class="o">=</span> <span class="n">seq</span>

            <span class="k">return</span> <span class="n">message</span>

        <span class="k">return</span> <span class="n">OtherMessage</span><span class="p">(</span><span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">seq</span><span class="o">=</span><span class="n">seq</span><span class="p">)</span>

<div class="viewcode-block" id="Client.forward_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.forward_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">forward_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">new_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Forwards a single message to another chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, aiobale.types.InfoMessage]): The message to forward.</span>
<span class="sd">            chat_id (int): The target chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of target chat.</span>
<span class="sd">            new_id (Optional[int], optional): New message ID for the forwarded message. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the forward operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error during forwarding.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">new_id</span><span class="p">]</span> <span class="k">if</span> <span class="n">new_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">forward_messages</span><span class="p">(</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">message</span><span class="p">],</span> <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span> <span class="n">new_ids</span><span class="o">=</span><span class="n">new_ids</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.seen_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.seen_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">seen_chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Marks a chat as seen (read).</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to mark as seen.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the seen operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">MessageRead</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.clear_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.clear_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">clear_chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears all messages in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to clear.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the clear operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">ClearChat</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.delete_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.delete_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes a chat entirely.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to delete.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the delete operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer_type</span><span class="p">(</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer_type</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">DeleteChat</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.load_history">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_history">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_history</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">offset_date</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">load_mode</span><span class="p">:</span> <span class="n">ListLoadMode</span> <span class="o">=</span> <span class="n">ListLoadMode</span><span class="o">.</span><span class="n">BACKWARD</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the message history for a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to load history from.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            limit (int, optional): Number of messages to load. Defaults to 20.</span>
<span class="sd">            offset_date (int, optional): Date offset for pagination. Defaults to -1.</span>
<span class="sd">            load_mode (aiobale.enums.ListLoadMode, optional): Direction to load messages. Defaults to BACKWARD.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Message]: List of loaded messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadHistory</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">offset_date</span><span class="o">=</span><span class="n">offset_date</span><span class="p">,</span> <span class="n">load_mode</span><span class="o">=</span><span class="n">load_mode</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">HistoryResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">add_chat</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_list_messages</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_resolve_list_messages</span><span class="p">(</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">MessageData</span><span class="p">,</span> <span class="n">QuotedMessage</span><span class="p">]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts Message objects from a list of MessageData or QuotedMessage.</span>

<span class="sd">        Args:</span>
<span class="sd">            data (List[Union[aiobale.types.MessageData, aiobale.types.QuotedMessage]]): The data to extract from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Message]: List of Message objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">message</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span>

<div class="viewcode-block" id="Client.pin_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.pin_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">pin_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">message_date</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">just_me</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pins a message in a private chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message_id (int): The ID of the message to pin.</span>
<span class="sd">            message_date (int): The date of the message.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            just_me (bool, optional): If True, pins only for the current user. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the pin operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">PinMessage</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message</span><span class="o">=</span><span class="n">OtherMessage</span><span class="p">(</span><span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">message_date</span><span class="p">),</span>
            <span class="n">just_me</span><span class="o">=</span><span class="n">just_me</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.unpin_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.unpin_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">unpin_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">message_date</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unpins a specific message in a private chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message_id (int): The ID of the message to unpin.</span>
<span class="sd">            message_date (int): The date of the message.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the unpin operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">UnPinMessages</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">OtherMessage</span><span class="p">(</span><span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">message_date</span><span class="p">)]</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.unpin_all">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.unpin_all">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">unpin_all</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">one_message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">one_message_date</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unpins all messages in a private chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            one_message_id (int): The ID of one pinned message (required by API).</span>
<span class="sd">            one_message_date (int): The date of the pinned message.</span>
<span class="sd">            chat_id (int): The chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the unpin all operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">UnPinMessages</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">OtherMessage</span><span class="p">(</span><span class="n">message_id</span><span class="o">=</span><span class="n">one_message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">one_message_date</span><span class="p">)],</span>
            <span class="n">all_messages</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.load_pinned_messages">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_pinned_messages">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_pinned_messages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads all pinned messages in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to load pinned messages from.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Message]: List of pinned messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadPinnedMessages</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">HistoryResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">add_chat</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_list_messages</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.load_dialogs">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_dialogs">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_dialogs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="n">offset_date</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">exclude_pinned</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">PeerData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the list of dialogs (chats) for the user.</span>

<span class="sd">        Args:</span>
<span class="sd">            limit (int, optional): Number of dialogs to load. Defaults to 40.</span>
<span class="sd">            offset_date (int, optional): Date offset for pagination. Defaults to -1.</span>
<span class="sd">            exclude_pinned (bool, optional): If True, excludes pinned dialogs. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.PeerData]: List of dialog data.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadDialogs</span><span class="p">(</span>
            <span class="n">offset_date</span><span class="o">=</span><span class="n">offset_date</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">exclude_pinned</span><span class="o">=</span><span class="n">exclude_pinned</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">DialogResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">dialogs</span></div>


<div class="viewcode-block" id="Client.edit_name">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_name">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the user&#39;s display name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The new display name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditName</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.check_username">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.check_username">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">check_username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a username is available.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (str): The username to check.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if available, False otherwise.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">CheckNickName</span><span class="p">(</span><span class="n">nick_name</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">NickNameAvailable</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">availbale</span></div>


<div class="viewcode-block" id="Client.edit_username">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_username">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the user&#39;s username.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (str): The new username.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditNickName</span><span class="p">(</span><span class="n">nick_name</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">username</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.edit_about">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_about">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_about</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">about</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the user&#39;s &quot;about&quot; section.</span>

<span class="sd">        Args:</span>
<span class="sd">            about (str): The new about text.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditAbout</span><span class="p">(</span><span class="n">about</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">about</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.load_full_users">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_full_users">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_full_users</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">peers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Peer</span><span class="p">,</span> <span class="n">InfoPeer</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">FullUser</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads detailed information for a list of users or peers.</span>

<span class="sd">        Args:</span>
<span class="sd">            peers (List[Union[aiobale.types.Peer, aiobale.types.InfoPeer]]): List of Peer or InfoPeer objects to fetch details for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.FullUser]: List of FullUser objects containing detailed user information.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">peer</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer</span><span class="o">.</span><span class="n">type</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">peer</span><span class="p">,</span> <span class="n">Peer</span><span class="p">)</span> <span class="k">else</span> <span class="n">peer</span>
            <span class="k">for</span> <span class="n">peer</span> <span class="ow">in</span> <span class="n">peers</span>
        <span class="p">]</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadFullUsers</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">FullUsersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span></div>


<div class="viewcode-block" id="Client.load_full_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_full_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_full_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullUser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads detailed information for a single user or peer.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The ID of the user or peer.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat (private, group, etc.).</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FullUser: Detailed information about the user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span><span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_full_users</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="Client.get_full_me">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_full_me">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_full_me</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullUser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads detailed information for the current authenticated user.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FullUser: Detailed information about the current user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span><span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">ChatType</span><span class="o">.</span><span class="n">PRIVATE</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_full_users</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="Client.load_users">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_users">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">peers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Peer</span><span class="p">,</span> <span class="n">InfoPeer</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">User</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads basic information for a list of users or peers.</span>

<span class="sd">        Args:</span>
<span class="sd">            peers (List[Union[aiobale.types.Peer, aiobale.types.InfoPeer]]): List of Peer or InfoPeer objects.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.User]: List of User objects with basic information.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">peer</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">peer</span><span class="o">.</span><span class="n">type</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">peer</span><span class="p">,</span> <span class="n">Peer</span><span class="p">)</span> <span class="k">else</span> <span class="n">peer</span>
            <span class="k">for</span> <span class="n">peer</span> <span class="ow">in</span> <span class="n">peers</span>
        <span class="p">]</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadUsers</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">UsersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span></div>


<div class="viewcode-block" id="Client.load_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads basic information for a single user or peer.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The ID of the user or peer.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.User: Basic information about the user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span><span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_users</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="Client.get_me">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_me">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_me</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullUser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads basic information for the current authenticated user.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.User: Basic information about the current user.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peers</span> <span class="o">=</span> <span class="p">[</span><span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">ChatType</span><span class="o">.</span><span class="n">PRIVATE</span><span class="p">)]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_users</span><span class="p">(</span><span class="n">peers</span><span class="o">=</span><span class="n">peers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="Client.edit_user_local_name">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_user_local_name">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_user_local_name</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">access_hash</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the local name for a user in your contacts.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The new local name.</span>
<span class="sd">            user_id (int): The user ID to edit.</span>
<span class="sd">            access_hash (int, optional): Access hash for the user. Defaults to 1.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditUserLocalName</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">access_hash</span><span class="o">=</span><span class="n">access_hash</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.block_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.block_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">block_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Blocks a user, preventing them from contacting you.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id (int): The user ID to block.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the block operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">info_peer</span> <span class="o">=</span> <span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">ChatType</span><span class="o">.</span><span class="n">PRIVATE</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">BlockUser</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">info_peer</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.unblock_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.unblock_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">unblock_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unblocks a previously blocked user.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id (int): The user ID to unblock.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the unblock operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">info_peer</span> <span class="o">=</span> <span class="n">InfoPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">ChatType</span><span class="o">.</span><span class="n">PRIVATE</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">UnblockUser</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">info_peer</span><span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.load_blocked_users">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_blocked_users">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_blocked_users</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">InfoPeer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the list of users you have blocked.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.InfoPeer]: List of blocked users.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadBlockedUsers</span><span class="p">()</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">BlockedUsersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">users</span></div>


<div class="viewcode-block" id="Client.load_contacts">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_contacts">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_contacts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">InfoPeer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads your contact list.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.InfoPeer]: List of contacts.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetContacts</span><span class="p">()</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">BlockedUsersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">users</span></div>


<div class="viewcode-block" id="Client.search_contact">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.search_contact">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search_contact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">phone_number</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">InfoPeer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for a contact by phone number.</span>

<span class="sd">        Args:</span>
<span class="sd">            phone_number (str): The phone number to search for.</span>
<span class="sd">                Phone number must be in international format, starting with the country code (without leading zero).</span>
<span class="sd">                For example: 989123456789 (country code 98 for Iran, then the rest of the number).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[aiobale.types.InfoPeer]: The found contact, or None if not found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">phone_number</span> <span class="o">=</span> <span class="n">phone_number</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SearchContact</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">phone_number</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">ContactResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">user</span></div>


<div class="viewcode-block" id="Client.search_username">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.search_username">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">search_username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContactResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Searches for a user, bot, group, or channel by username.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (str): The username to search for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.ContactResponse: The response containing the found contact.</span>
<span class="sd">                - If the username belongs to a user or bot, the result will be in the `user` field.</span>
<span class="sd">                - If the username belongs to a group or channel, the result will be in the `group` field.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SearchContact</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.import_contacts">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.import_contacts">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">import_contacts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">contacts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">InfoPeer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Imports a list of contacts into your account.</span>

<span class="sd">        Args:</span>
<span class="sd">            contacts (List[Tuple[int, str]]): List of tuples containing phone number and name.</span>
<span class="sd">            Phone numbers must be in international format, starting with the country code (without leading zero).</span>
<span class="sd">            For example: 989123456789 (country code 98 for Iran, then the rest of the number).</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.InfoPeer]: List of imported contacts.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">contacts</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ContactData</span><span class="p">(</span><span class="n">phone_number</span><span class="o">=</span><span class="n">contact</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">contact</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="k">for</span> <span class="n">contact</span> <span class="ow">in</span> <span class="n">contacts</span>
        <span class="p">]</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">ImportContacts</span><span class="p">(</span><span class="n">phones</span><span class="o">=</span><span class="n">contacts</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ContactsResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">peers</span></div>


<div class="viewcode-block" id="Client.reset_contacts">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.reset_contacts">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">reset_contacts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes all contacts from your account.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the reset operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">ResetContacts</span><span class="p">()</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.remove_contact">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.remove_contact">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">remove_contact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a contact from your account.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id (int): The user ID to remove.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the remove operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">RemoveContact</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.add_contact">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.add_contact">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">add_contact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a user to your contacts.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_id (int): The user ID to add.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the add operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">AddContact</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.set_online">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.set_online">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_online</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_online</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets your online status.</span>

<span class="sd">        Args:</span>
<span class="sd">            is_online (bool): True to set online, False to set offline.</span>
<span class="sd">            timeout (int): Timeout in seconds for online status.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SetOnline</span><span class="p">(</span><span class="n">is_online</span><span class="o">=</span><span class="n">is_online</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.report_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.report_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">report_chat</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">reason</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">kind</span><span class="p">:</span> <span class="n">ReportKind</span> <span class="o">=</span> <span class="n">ReportKind</span><span class="o">.</span><span class="n">SPAM</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reports a chat for spam or other reasons.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID to report.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            reason (Optional[str], optional): Description of the report. Defaults to None.</span>
<span class="sd">            kind (aiobale.enums.ReportKind, optional): Type of report. Defaults to SPAM.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the report operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer_report</span> <span class="o">=</span> <span class="n">PeerReport</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">PeerSource</span><span class="o">.</span><span class="n">DIALOGS</span><span class="p">,</span> <span class="n">peer</span><span class="o">=</span><span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">report</span> <span class="o">=</span> <span class="n">Report</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">reason</span><span class="p">,</span> <span class="n">peer_report</span><span class="o">=</span><span class="n">peer_report</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SendReport</span><span class="p">(</span><span class="n">report_body</span><span class="o">=</span><span class="n">report</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.report_messages">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.report_messages">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">report_messages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">]],</span>
        <span class="n">reason</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">kind</span><span class="p">:</span> <span class="n">ReportKind</span> <span class="o">=</span> <span class="n">ReportKind</span><span class="o">.</span><span class="n">SPAM</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reports one or more messages for spam or other reasons.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID containing the messages.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            messages (List[Union[aiobale.types.Message, aiobale.types.InfoMessage, aiobale.types.OtherMessage]]): Messages to report.</span>
<span class="sd">            reason (Optional[str], optional): Description of the report. Defaults to None.</span>
<span class="sd">            kind (aiobale.enums.ReportKind, optional): Type of report. Defaults to SPAM.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the report operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other_messages</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_other_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">]</span>

        <span class="n">message_report</span> <span class="o">=</span> <span class="n">MessageReport</span><span class="p">(</span>
            <span class="n">messages</span><span class="o">=</span><span class="n">other_messages</span><span class="p">,</span> <span class="n">peer</span><span class="o">=</span><span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">report</span> <span class="o">=</span> <span class="n">Report</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">reason</span><span class="p">,</span> <span class="n">message_report</span><span class="o">=</span><span class="n">message_report</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SendReport</span><span class="p">(</span><span class="n">report_body</span><span class="o">=</span><span class="n">report</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.report_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.report_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">report_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">reason</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">kind</span><span class="p">:</span> <span class="n">ReportKind</span> <span class="o">=</span> <span class="n">ReportKind</span><span class="o">.</span><span class="n">SPAM</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reports a single message for spam or other reasons.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            message (Union[aiobale.types.Message, aiobale.types.InfoMessage, aiobale.types.OtherMessage]): The message to report.</span>
<span class="sd">            reason (Optional[str], optional): Description of the report. Defaults to None.</span>
<span class="sd">            kind (aiobale.enums.ReportKind, optional): Type of report. Defaults to SPAM.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the report operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">report_messages</span><span class="p">(</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">message</span><span class="p">],</span>
            <span class="n">reason</span><span class="o">=</span><span class="n">reason</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.start_typing">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.start_typing">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_typing</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">typing_mode</span><span class="p">:</span> <span class="n">TypingMode</span> <span class="o">=</span> <span class="n">TypingMode</span><span class="o">.</span><span class="n">TEXT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the server that you are performing an action (typing, uploading, etc.) in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            typing_mode (aiobale.enums.TypingMode, optional): The type of action (not just typing). Defaults to TEXT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Note:</span>
<span class="sd">            This method is used to indicate any activity (not just typing), such as sending a photo, uploading a file, etc.</span>
<span class="sd">            The meaning depends on the selected TypingMode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">Typing</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">),</span> <span class="n">typing_type</span><span class="o">=</span><span class="n">typing_mode</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.stop_typing">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.stop_typing">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stop_typing</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">typing_mode</span><span class="p">:</span> <span class="n">TypingMode</span> <span class="o">=</span> <span class="n">TypingMode</span><span class="o">.</span><span class="n">TEXT</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Notifies the server that you have stopped performing an action (typing, uploading, etc.) in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The chat ID.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            typing_mode (aiobale.enums.TypingMode, optional): The type of action (not just typing). Defaults to TEXT.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Note:</span>
<span class="sd">            This method is used to indicate stopping any activity (not just typing), such as sending a photo, uploading a file, etc.</span>
<span class="sd">            The meaning depends on the selected TypingMode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">StopTyping</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">),</span> <span class="n">typing_type</span><span class="o">=</span><span class="n">typing_mode</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_parameters">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_parameters">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ExtKeyValue</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a list of key-value parameters for the current user or session.</span>

<span class="sd">        These parameters are typically used for privacy settings, chat drafts, and other configuration options.</span>
<span class="sd">        For more information about available parameters and their usage, please refer to our website.</span>

<span class="sd">        Args:</span>
<span class="sd">            None</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.ExtKeyValue]: A list of key-value pairs representing user/session parameters.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetParameters</span><span class="p">()</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ParametersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">params</span></div>


<div class="viewcode-block" id="Client.edit_parameter">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_parameter">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_parameter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits or sets a specific parameter for the current user or session.</span>

<span class="sd">        Parameters can be used for privacy settings, chat drafts, and other customizations.</span>
<span class="sd">        For details on available keys and their effects, check our website.</span>

<span class="sd">        Args:</span>
<span class="sd">            key (str): The parameter key to edit.</span>
<span class="sd">            value (str): The new value for the parameter.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditParameter</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_messages_reactions">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_messages_reactions">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_messages_reactions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">]],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">MessageReactions</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves reactions for a list of messages in a specific chat.</span>

<span class="sd">        Useful for displaying which users have reacted to messages and what reactions were used.</span>

<span class="sd">        Args:</span>
<span class="sd">            messages (List[Union[aiobale.types.Message, InfoMessage, OtherMessage]]): The messages to get reactions for.</span>
<span class="sd">            chat_id (int): The chat ID containing the messages.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.MessageReactions]: List of reactions data for each message.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other_messages</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_other_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">]</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">GetMessagesReactions</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message_ids</span><span class="o">=</span><span class="n">other_messages</span><span class="p">,</span>
            <span class="n">origin_peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">origin_message_ids</span><span class="o">=</span><span class="n">other_messages</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ReactionsResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">messages</span></div>


<div class="viewcode-block" id="Client.get_message_reactions">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_message_reactions">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_message_reactions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">MessageReactions</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves reactions for a single message in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, InfoMessage, OtherMessage]): The message to get reactions for.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[aiobale.types.MessageReactions]: Reactions for the message, or None if not found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_messages_reactions</span><span class="p">(</span>
            <span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">message</span><span class="p">],</span> <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">result</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Client.get_reaction_list">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_reaction_list">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_reaction_list</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">emojy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">page</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">ReactionData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a paginated list of users who reacted to a message with a specific emoji.</span>

<span class="sd">        Useful for displaying which users used a particular reaction on a message.</span>

<span class="sd">        Args:</span>
<span class="sd">            emojy (str): The emoji to filter reactions by.</span>
<span class="sd">            message (Union[aiobale.types.Message, InfoMessage, OtherMessage]): The message to get reactions for.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>
<span class="sd">            page (int, optional): Page number for pagination. Defaults to 1.</span>
<span class="sd">            limit (int, optional): Number of results per page. Defaults to 20.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.ReactionData]: List of users and their reaction details.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetMessageReactionsList</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="n">emojy</span><span class="o">=</span><span class="n">emojy</span><span class="p">,</span>
            <span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">,</span>
            <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ReactionListResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span></div>


<div class="viewcode-block" id="Client.set_reaction">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.set_reaction">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_reaction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">emojy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Reaction</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets a reaction (emoji) on a specific message in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            emojy (str): The emoji to react with.</span>
<span class="sd">            message (Union[aiobale.types.Message, InfoMessage, OtherMessage]): The message to react to.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Reaction]: List of reactions after the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">MessageSetReaction</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">emojy</span><span class="o">=</span><span class="n">emojy</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ReactionSentResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">reactions</span></div>


<div class="viewcode-block" id="Client.remove_reaction">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.remove_reaction">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">remove_reaction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">emojy</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Reaction</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a specific reaction (emoji) from a message in a chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            emojy (str): The emoji to remove.</span>
<span class="sd">            message (Union[aiobale.types.Message, InfoMessage, OtherMessage]): The message to remove the reaction from.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>
<span class="sd">            chat_type (aiobale.enums.ChatType): The type of chat.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Reaction]: List of reactions after removal.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">MessageRemoveReaction</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="n">emojy</span><span class="o">=</span><span class="n">emojy</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ReactionSentResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">reactions</span></div>


<div class="viewcode-block" id="Client.get_messages_views">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_messages_views">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_messages_views</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">messages</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">]],</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">MessageViews</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves view counts for a list of messages in a chat.</span>

<span class="sd">        Useful for analytics and tracking message engagement.</span>

<span class="sd">        **Note:** This method is only applicable for channels.</span>

<span class="sd">        Args:</span>
<span class="sd">            messages (List[Union[aiobale.types.Message, InfoMessage, OtherMessage]]): The messages to get views for.</span>
<span class="sd">            chat_id (int): The chat ID containing the messages.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.MessageViews]: List of view counts for each message.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">other_messages</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ensure_other_message</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">]</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">GetMessagesViews</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span> <span class="n">message_ids</span><span class="o">=</span><span class="n">other_messages</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">ViewsResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">messages</span></div>


<div class="viewcode-block" id="Client.get_message_views">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_message_views">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_message_views</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">MessageViews</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves view count for a single message in a chat.</span>

<span class="sd">        **Note:** This method is only applicable for channels.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, InfoMessage, OtherMessage]): The message to get views for.</span>
<span class="sd">            chat_id (int): The chat ID containing the message.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.MessageViews]: View count for the message.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_messages_views</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[</span><span class="n">message</span><span class="p">],</span> <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_full_group">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_full_group">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_full_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullGroup</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads detailed information about a group or channel.</span>

<span class="sd">        This includes group settings, member counts, permissions, and other metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FullGroup: Detailed information about the group.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetFullGroup</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">peer</span><span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">FullGroupResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">fullgroup</span></div>


<div class="viewcode-block" id="Client.load_members">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.load_members">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">load_members</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">next_offset</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">condition</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="s2">&quot;excepted_permissions&quot;</span><span class="p">,</span> <span class="s2">&quot;contacts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Member</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads members of a group or channel with optional filtering.</span>

<span class="sd">        You can filter members by contacts or by those with specific permissions.</span>
<span class="sd">        For more information about available conditions and their use cases, check our website.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            limit (int, optional): Number of members to load. Defaults to 20.</span>
<span class="sd">            next_offset (Optional[int], optional): Offset for pagination. Defaults to None.</span>
<span class="sd">            condition (Literal[&quot;none&quot;, &quot;excepted_permissions&quot;, &quot;contacts&quot;], optional): Filter condition for members.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.Member]: List of group/channel members.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">)</span>

        <span class="n">condition_map</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;contacts&quot;</span><span class="p">:</span> <span class="n">Condition</span><span class="p">(</span><span class="n">contacts</span><span class="o">=</span><span class="n">BoolValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">)),</span>
            <span class="s2">&quot;excepted_permissions&quot;</span><span class="p">:</span> <span class="n">Condition</span><span class="p">(</span>
                <span class="n">excepted_permissions</span><span class="o">=</span><span class="n">BoolValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="p">),</span>
        <span class="p">}</span>
        <span class="n">condition_type</span> <span class="o">=</span> <span class="n">condition_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">LoadMembers</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span>
            <span class="n">next_offset</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">next_offset</span><span class="p">)),</span>
            <span class="n">condition</span><span class="o">=</span><span class="n">condition_type</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">MembersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">members</span></div>


<div class="viewcode-block" id="Client.create_group">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.create_group">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_group</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">users</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(),</span>
        <span class="n">group_type</span><span class="p">:</span> <span class="n">GroupType</span> <span class="o">=</span> <span class="n">GroupType</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GroupCreatedResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new group or channel.</span>

<span class="sd">        You can specify a title, optional username (for public groups/channels), initial members, and the type (group or channel).</span>
<span class="sd">        The restriction will be set to PUBLIC if a username is provided, otherwise PRIVATE.</span>

<span class="sd">        Args:</span>
<span class="sd">            title (str): The title of the group or channel.</span>
<span class="sd">            username (Optional[str], optional): The public username (for public groups/channels).</span>
<span class="sd">            users (Tuple[int], optional): Initial user IDs to add to the group/channel.</span>
<span class="sd">            group_type (aiobale.enums.GroupType, optional): The type (group or channel).</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.GroupCreatedResponse: The result of the group/channel creation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">random_id</span> <span class="o">=</span> <span class="n">generate_id</span><span class="p">()</span>
        <span class="n">users</span> <span class="o">=</span> <span class="p">[</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">users</span><span class="p">]</span>
        <span class="n">restriction</span> <span class="o">=</span> <span class="n">Restriction</span><span class="o">.</span><span class="n">PUBLIC</span> <span class="k">if</span> <span class="n">username</span> <span class="k">else</span> <span class="n">Restriction</span><span class="o">.</span><span class="n">PRIVATE</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">CreateGroup</span><span class="p">(</span>
            <span class="n">random_id</span><span class="o">=</span><span class="n">random_id</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">users</span><span class="o">=</span><span class="n">users</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">username</span><span class="p">),</span>
            <span class="n">group_type</span><span class="o">=</span><span class="n">group_type</span><span class="p">,</span>
            <span class="n">restriction</span><span class="o">=</span><span class="n">restriction</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.create_channel">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.create_channel">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_channel</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">users</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">()</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GroupCreatedResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            title (str): The title of the channel.</span>
<span class="sd">            username (Optional[str], optional): The public username for the channel (for public channels).</span>
<span class="sd">            users (Tuple[int], optional): Initial user IDs to add to the channel.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.GroupCreatedResponse: The result of the channel creation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method is used to create a channel, which is similar to a group but intended for broadcasting messages to a large audience. You can specify a title, an optional public username, and initial members. For more details about channel settings and restrictions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_group</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">users</span><span class="o">=</span><span class="n">users</span><span class="p">,</span> <span class="n">group_type</span><span class="o">=</span><span class="n">GroupType</span><span class="o">.</span><span class="n">CHANNEL</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.invite_users">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.invite_users">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">invite_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">users</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InviteResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Invites users to a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            users (Tuple[int]): User IDs to invite.</span>
<span class="sd">            chat_id (int): The group or channel ID to invite users to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.InviteResponse: The result of the invite operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method allows you to invite multiple users to a group or channel. The `users` argument should be a tuple of user IDs. For more information about invitation limits and restrictions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">InviteUsers</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
            <span class="n">users</span><span class="o">=</span><span class="p">[</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">u</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">users</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.edit_group_title">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_group_title">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_group_title</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the title of a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            title (str): The new title.</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to change the title of an existing group or channel. For title length limits and formatting rules, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditGroupTitle</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.edit_group_about">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_group_about">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_group_about</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">about</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the &quot;about&quot; section of a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            about (str): The new about text.</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method updates the description or &quot;about&quot; section for a group or channel. For content guidelines and maximum length, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditGroupAbout</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
            <span class="n">about</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">about</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.make_group_public">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.make_group_public">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">make_group_public</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a group or channel public by assigning a username.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            username (str): The public username to assign.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method sets the group or channel restriction to PUBLIC and assigns a username, making it accessible via a public link. For username rules and restrictions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SetRestriction</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">restriction</span><span class="o">=</span><span class="n">Restriction</span><span class="o">.</span><span class="n">PUBLIC</span><span class="p">,</span>
            <span class="n">username</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">username</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.make_group_private">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.make_group_private">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">make_group_private</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a group or channel private.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method sets the group or channel restriction to PRIVATE, removing any public username and link. For more details about privacy settings, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SetRestriction</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">restriction</span><span class="o">=</span><span class="n">Restriction</span><span class="o">.</span><span class="n">PRIVATE</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_group_link">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_group_link">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_group_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the invite link for a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The invite URL.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to get the current invite link for a group or channel. This link can be shared with others to join the group. For more information about link expiration and usage, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetGroupInviteURL</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">))</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">InviteURLResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">url</span></div>


<div class="viewcode-block" id="Client.revoke_group_link">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.revoke_group_link">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">revoke_group_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Revokes the current invite link for a group or channel and generates a new one.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The new invite URL.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method invalidates the existing invite link and creates a new one. Use this to reset access if the link has been shared too widely. For more details, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">RevokeInviteURL</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">))</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">InviteURLResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">url</span></div>


<div class="viewcode-block" id="Client.leave_group">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.leave_group">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">leave_group</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Leaves a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the leave operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to exit a group or channel. You will no longer receive messages from it. For more information about leaving and rejoining, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">LeaveGroup</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.transfer_group_ownership">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.transfer_group_ownership">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">transfer_group_ownership</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">new_owner</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Transfers ownership of a group or channel to another user.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            new_owner (int): The user ID of the new owner.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the transfer operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method allows the current owner to assign ownership to another user. Only the owner can perform this action. For more details about ownership transfer, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">TransferOwnership</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">new_owner</span><span class="o">=</span><span class="n">new_owner</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.make_user_admin">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.make_user_admin">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">make_user_admin</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">admin_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Assigns admin privileges to a user in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID to make admin.</span>
<span class="sd">            admin_name (Optional[str], optional): Custom admin name (optional).</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to promote a user to admin status. You can optionally assign a custom admin name.</span>
<span class="sd">        Note: To assign specific admin rights and permissions, you must use the `set_member_permissions` method after creating the admin.</span>
<span class="sd">        For more information about admin roles and permissions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">MakeUserAdmin</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">),</span>
            <span class="n">admin_name</span><span class="o">=</span><span class="n">StringValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">admin_name</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.remove_admin">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.remove_admin">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">remove_admin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes admin privileges from a user in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID to remove as admin.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method demotes an admin to a regular member. For more information about admin management, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">RemoveUserAdmin</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.kick_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.kick_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">kick_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a user from a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID to remove.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the kick operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to forcibly remove a user from a group or channel. For more details about kicking users and restrictions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">KickUser</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">),</span>
            <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.join_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.join_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">join_chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_or_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JoinedGroupResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Joins a group or channel using an invite token or URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_or_url (str): The invite token or URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.JoinedGroupResponse: The result of the join operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to join a group or channel via an invite link. The token is extracted automatically from the URL if needed. For more information about joining groups, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">extract_join_token</span><span class="p">(</span><span class="n">token_or_url</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">JoinGroup</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.join_public_chat">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.join_public_chat">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">join_public_chat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JoinedGroupResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Joins a public group or channel by its ID.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.JoinedGroupResponse: The result of the join operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method allows you to join a public group or channel directly by its ID. For more details about public chats, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">JoinPublicGroup</span><span class="p">(</span><span class="n">peer</span><span class="o">=</span><span class="n">Peer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">ChatType</span><span class="o">.</span><span class="n">GROUP</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.pin_group_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.pin_group_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">pin_group_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">MessageData</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pins a message in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, MessageData, InfoMessage, OtherMessage]): The message to pin.</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the pin operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to highlight important messages by pinning them in a group or channel. For more information about pin limits and visibility, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">PinGroupMessage</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.unpin_group_message">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.unpin_group_message">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">unpin_group_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">MessageData</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">,</span> <span class="n">OtherMessage</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unpins a specific message in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            message (Union[aiobale.types.Message, MessageData, InfoMessage, OtherMessage]): The message to unpin.</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the unpin operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method removes a pinned message from the group or channel. For more details about pin management, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">RemoveSinglePin</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">date</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.remove_group_pins">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.remove_group_pins">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">remove_group_pins</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes all pinned messages from a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to clear all pinned messages at once. For more information about pin limits and management, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">RemoveAllPins</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_group_pins">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_group_pins">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_group_pins</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">GetPinsResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a paginated list of pinned messages in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            page (int, optional): Page number for pagination. Defaults to 1.</span>
<span class="sd">            limit (int, optional): Number of results per page. Defaults to 20.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.GetPinsResponse: The response containing pinned messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to view all pinned messages, with support for pagination. For more details about pin history and limits, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetPins</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">page</span><span class="o">=</span><span class="n">page</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="n">limit</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.edit_chat_username">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.edit_chat_username">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">edit_chat_username</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">username</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Edits the public username of a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            username (str): The new public username.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the edit operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method changes the public username, which affects the group&#39;s or channel&#39;s public link. For username rules and restrictions, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">EditChannelUsername</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">random_id</span><span class="o">=</span><span class="n">generate_id</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_member_permissions">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_member_permissions">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_member_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Permissions</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the permissions for a specific member in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID of the member.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Permissions: The permissions object for the member.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to view what actions a member can perform in a group or channel. For more details about permission types, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetMemberPermissions</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">MemberPermissionsResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">permissions</span></div>


<div class="viewcode-block" id="Client.set_member_permissions">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.set_member_permissions">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_member_permissions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">permissions</span><span class="p">:</span> <span class="n">Permissions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets custom permissions for a member in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID of the member.</span>
<span class="sd">            permissions (aiobale.types.Permissions): The permissions to assign.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method allows you to customize what a member can do, such as sending messages or managing pins.</span>
<span class="sd">        Note: This is the only way to assign specific rights to admins in a group or channel. After creating a new admin, use this method to set their permissions and rights. For more information about permission settings, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SetMemberPermissions</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">),</span>
            <span class="n">permissions</span><span class="o">=</span><span class="n">permissions</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.set_group_permissions">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.set_group_permissions">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">set_group_permissions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">permissions</span><span class="p">:</span> <span class="n">Permissions</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets default permissions for all members in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            permissions (aiobale.types.Permissions): The default permissions to assign.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to set the baseline permissions for all members. Individual permissions can still be customized. For more details, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">SetGroupDefaultPermissions</span><span class="p">(</span>
            <span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span>
            <span class="n">permissions</span><span class="o">=</span><span class="n">permissions</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_banned_users">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_banned_users">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_banned_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">BanData</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a list of banned users in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[aiobale.types.BanData]: List of banned users and their ban details.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to view users who have been banned, including ban reasons and durations. For more details about banning policies, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetBannedUsers</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">))</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">BannedUsersResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">users</span></div>


<div class="viewcode-block" id="Client.unban_user">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.unban_user">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">unban_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefaultResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unbans a user in a group or channel.</span>

<span class="sd">        Args:</span>
<span class="sd">            chat_id (int): The group or channel ID.</span>
<span class="sd">            user_id (int): The user ID to unban.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.responses.DefaultResponse: The result of the unban operation.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method restores access for a previously banned user. For more information about ban management, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">UnbanUser</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">),</span> <span class="n">user</span><span class="o">=</span><span class="n">ShortPeer</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.get_group_preview">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_group_preview">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_group_preview</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token_or_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FullGroup</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a preview of a group or channel using an invite token or URL.</span>

<span class="sd">        Args:</span>
<span class="sd">            token_or_url (str): The invite token or URL.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FullGroup: Detailed information about the group or channel.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to view group/channel details before joining, such as title and member count. For more information about previews, check our website.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">token</span> <span class="o">=</span> <span class="n">extract_join_token</span><span class="p">(</span><span class="n">token_or_url</span><span class="p">)</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetGroupPreview</span><span class="p">(</span><span class="n">token</span><span class="o">=</span><span class="n">token</span><span class="p">)</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">FullGroupResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">fullgroup</span></div>


<div class="viewcode-block" id="Client.get_file">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_file">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">access_hash</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FileURL</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves a direct file URL for downloading media stored on Bale servers.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_id (int): Unique identifier of the file.</span>
<span class="sd">            access_hash (int): Access hash associated with the file, used for validation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[aiobale.types.FileURL]: File URL and metadata, or None if not found.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Use this method to retrieve download links for existing media such as photos, videos, or documents.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetFileUrl</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">FileInfo</span><span class="p">(</span><span class="n">file_id</span><span class="o">=</span><span class="n">file_id</span><span class="p">,</span> <span class="n">access_hash</span><span class="o">=</span><span class="n">access_hash</span><span class="p">))</span>
        <span class="n">result</span><span class="p">:</span> <span class="n">FileURLResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">file_urls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">file_urls</span> <span class="k">else</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Client.download_file">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.download_file">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">download_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">access_hash</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">BinaryIO</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">seek</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BinaryIO</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Downloads a file from Bale servers using its file ID and access hash.</span>

<span class="sd">        Args:</span>
<span class="sd">            file_id (int): Unique identifier of the file.</span>
<span class="sd">            access_hash (int): Access hash for the file.</span>
<span class="sd">            destination (Optional[Union[BinaryIO, pathlib.Path, str]]): File-like object or file path to save the file to.</span>
<span class="sd">                - If None, returns the file content in a `BytesIO` object.</span>
<span class="sd">            seek (bool): Whether to seek the returned BinaryIO to the beginning. Default is True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[BinaryIO]: The file content in a BinaryIO object if destination was None or BinaryIO. Otherwise, None.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        This method is suitable for downloading files directly into memory or saving them to disk. Make sure to use `seek=False`</span>
<span class="sd">        if you want to avoid rewinding the stream.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_info</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span><span class="n">file_id</span><span class="p">,</span> <span class="n">access_hash</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">destination</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">destination</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>

        <span class="n">stream</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">stream_content</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="n">chunk_size</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">chunk_size</span><span class="p">,</span>
            <span class="n">raise_for_status</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)):</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__download_file</span><span class="p">(</span><span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">__download_file_binary_io</span><span class="p">(</span>
                <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">,</span> <span class="n">seek</span><span class="o">=</span><span class="n">seek</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">stream</span>
            <span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">aclose</span><span class="p">()</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_build_chat</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">chat_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">chat_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ChatType</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Chat</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">chat_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">chat_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">Chat</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">)</span>

<div class="viewcode-block" id="Client.get_file_upload_url">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.get_file_upload_url">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_file_upload_url</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">mime_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">chat</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Chat</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">send_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SendType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileUploadInfo</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Requests an upload URL from Bale&#39;s server for uploading a file.</span>

<span class="sd">        Args:</span>
<span class="sd">            size (int): Size of the file in bytes.</span>
<span class="sd">            name (str): File name including extension.</span>
<span class="sd">            mime_type (str): MIME type of the file (e.g., &#39;image/jpeg&#39;, &#39;video/mp4&#39;).</span>
<span class="sd">            chat (Optional[Chat]): Target chat to associate the upload with.</span>
<span class="sd">            send_type (Optional[SendType]): Optional hint about the file&#39;s intended use (e.g., voice, gif).</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FileUploadInfo: Contains upload URL, chunk size, and file ID.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Note:</span>
<span class="sd">            You may omit `chat` and `send_type` when the upload is not directly tied to a specific message or chat </span>
<span class="sd">            for example, when uploading a profile picture or avatar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">call</span> <span class="o">=</span> <span class="n">GetFileUploadUrl</span><span class="p">(</span>
            <span class="n">expected_size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">user_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">,</span>
            <span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendTypeModel</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">send_type</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span></div>


<div class="viewcode-block" id="Client.upload_file">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.upload_file">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">upload_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file</span><span class="p">:</span> <span class="n">FileInput</span><span class="p">,</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ChatType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">send_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SendType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">progress_callback</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileDetails</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uploads a file to Bale servers and returns its metadata.</span>

<span class="sd">        Args:</span>
<span class="sd">            file (FileInput): A `FileInput` object representing the file to be uploaded.</span>
<span class="sd">            chat_id (Optional[int]): ID of the target chat (optional).</span>
<span class="sd">            chat_type (Optional[ChatType]): Type of the target chat (e.g., user, group).</span>
<span class="sd">            send_type (Optional[SendType]): Optional hint for how the file will be used (e.g., voice, gif).</span>
<span class="sd">            progress_callback (Optional[Callable[[int, Optional[int]], None]]): Callback for upload progress,</span>
<span class="sd">                called with bytes sent and total size.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.FileDetails: Information about the uploaded file including file ID, name, size, and MIME type.</span>

<span class="sd">        Raises:</span>
<span class="sd">            BaleError: If the server returns an error.</span>
<span class="sd">            AiobaleError: For client-side errors.</span>

<span class="sd">        Note:</span>
<span class="sd">            `chat_id`, `chat_type`, and `send_type` can be omitted when uploading files for non-message-related purposes,</span>
<span class="sd">            such as updating a user or group profile photo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_info</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">info</span>
        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>

        <span class="n">upload_info</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_upload_url</span><span class="p">(</span>
            <span class="n">size</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">mime_type</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">mime_type</span><span class="p">,</span>
            <span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">send_type</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
            <span class="n">url</span><span class="o">=</span><span class="n">upload_info</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="n">token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__token</span><span class="p">,</span>
            <span class="n">chunk_size</span><span class="o">=</span><span class="n">upload_info</span><span class="o">.</span><span class="n">chunk_size</span><span class="p">,</span>
            <span class="n">progress_callback</span><span class="o">=</span><span class="n">progress_callback</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">FileDetails</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="n">mime_type</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">mime_type</span><span class="p">,</span>
            <span class="n">file_id</span><span class="o">=</span><span class="n">upload_info</span><span class="o">.</span><span class="n">file_id</span><span class="p">,</span>
            <span class="n">access_hash</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_send_file_message</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">send_type</span><span class="p">:</span> <span class="n">SendType</span> <span class="o">=</span> <span class="n">SendType</span><span class="o">.</span><span class="n">DOCUMENT</span><span class="p">,</span>
        <span class="n">thumb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Thumbnail</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ext</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">DocumentsExt</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">use_own_content</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">):</span>
            <span class="n">file_info</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span>
                <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span> <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span> <span class="n">send_type</span><span class="o">=</span><span class="n">send_type</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">file_info</span> <span class="o">=</span> <span class="n">file</span>

        <span class="n">chat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_chat</span><span class="p">(</span><span class="n">chat_id</span><span class="p">,</span> <span class="n">chat_type</span><span class="p">)</span>
        <span class="n">peer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolve_peer</span><span class="p">(</span><span class="n">chat</span><span class="p">)</span>

        <span class="n">message_id</span> <span class="o">=</span> <span class="n">message_id</span> <span class="ow">or</span> <span class="n">generate_id</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">file_info</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">)</span> <span class="ow">and</span> <span class="n">use_own_content</span><span class="p">:</span>
            <span class="n">document</span> <span class="o">=</span> <span class="n">file_info</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">caption</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">caption</span> <span class="o">=</span> <span class="n">MessageCaption</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">caption</span><span class="p">)</span>

            <span class="n">document</span> <span class="o">=</span> <span class="n">DocumentMessage</span><span class="p">(</span>
                <span class="n">file_id</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">file_id</span><span class="p">,</span>
                <span class="n">size</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">mime_type</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">mime_type</span><span class="p">,</span>
                <span class="n">access_hash</span><span class="o">=</span><span class="n">file_info</span><span class="o">.</span><span class="n">access_hash</span><span class="p">,</span>
                <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
                <span class="n">thumb</span><span class="o">=</span><span class="n">thumb</span><span class="p">,</span>
                <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">content</span> <span class="o">=</span> <span class="n">MessageContent</span><span class="p">(</span><span class="n">document</span><span class="o">=</span><span class="n">document</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">reply_to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">reply_to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ensure_info_message</span><span class="p">(</span><span class="n">reply_to</span><span class="p">)</span>

        <span class="n">call</span> <span class="o">=</span> <span class="n">SendMessage</span><span class="p">(</span>
            <span class="n">peer</span><span class="o">=</span><span class="n">peer</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span>
            <span class="n">chat</span><span class="o">=</span><span class="n">chat</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">result</span><span class="p">:</span> <span class="n">MessageResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="p">(</span><span class="n">call</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">message</span>

<div class="viewcode-block" id="Client.send_document">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_document">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_document</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">use_own_content</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a document file to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            file (Union[FileDetails, DocumentMessage, FileInput]): File or message representing the document.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat (user, group, etc.).</span>
<span class="sd">            caption (Optional[str]): Text to accompany the document.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>
<span class="sd">            use_own_content (bool, optional): Whether to send the file using the provided content instead of only using file ID and access hash. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent document.</span>

<span class="sd">        Note:</span>
<span class="sd">            No additional metadata is required, but sending descriptive captions helps users identify the file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">file</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">DOCUMENT</span><span class="p">,</span>
            <span class="n">use_own_content</span><span class="o">=</span><span class="n">use_own_content</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">_get_thumb</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">cover_thumb</span><span class="p">:</span> <span class="n">FileInput</span><span class="p">,</span> <span class="n">cover_width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">cover_height</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Thumbnail</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cover_thumb</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">AiobaleError</span><span class="p">(</span><span class="s2">&quot;Cover should not be larger than 2KB&quot;</span><span class="p">)</span>

        <span class="n">thumb_width</span> <span class="o">=</span> <span class="mi">50</span>
        <span class="n">thumb_height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">thumb_width</span> <span class="o">/</span> <span class="n">cover_width</span><span class="p">)</span> <span class="o">*</span> <span class="n">cover_height</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Thumbnail</span><span class="p">(</span>
            <span class="n">w</span><span class="o">=</span><span class="n">thumb_width</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="n">thumb_height</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="k">await</span> <span class="n">cover_thumb</span><span class="o">.</span><span class="n">get_content</span><span class="p">()</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Client.send_photo">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_photo">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_photo</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">photo</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_thumb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FileInput</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">cover_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a photo to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            photo (Union[FileDetails, DocumentMessage, FileInput]): The image file to send.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat.</span>
<span class="sd">            caption (Optional[str]): Caption to accompany the photo.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            cover_thumb (Optional[FileInput]): Small preview thumbnail ( 2 KB).</span>
<span class="sd">            cover_width (int): Width of the photo in pixels. Default is 1000.</span>
<span class="sd">            cover_height (int): Height of the photo in pixels. Default is 1000.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent photo.</span>

<span class="sd">        Note:</span>
<span class="sd">            Providing `cover_thumb`, `cover_width`, and `cover_height` is optional but enhances preview display in Bale apps.</span>
<span class="sd">            The `cover_thumb` must be no larger than 2 KB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cover_thumb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cover_thumb</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_thumb</span><span class="p">(</span>
                <span class="n">cover_thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
                <span class="n">cover_width</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span>
                <span class="n">cover_height</span><span class="o">=</span><span class="n">cover_height</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">ext</span> <span class="o">=</span> <span class="n">DocumentsExt</span><span class="p">(</span><span class="n">photo</span><span class="o">=</span><span class="n">PhotoExt</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="n">cover_height</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">photo</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">PHOTO</span><span class="p">,</span>
            <span class="n">thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.send_video">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_video">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_video</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">video</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_thumb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FileInput</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">cover_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a video file to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            video (Union[FileDetails, DocumentMessage, FileInput]): The video file to send.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat.</span>
<span class="sd">            caption (Optional[str]): Caption for the video.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            cover_thumb (Optional[FileInput]): Preview thumbnail ( 2 KB).</span>
<span class="sd">            cover_width (int): Width of the video in pixels. Default is 1000.</span>
<span class="sd">            cover_height (int): Height of the video in pixels. Default is 1000.</span>
<span class="sd">            duration (Optional[int]): Duration of the video in milliseconds.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent video.</span>

<span class="sd">        Note:</span>
<span class="sd">            Providing `duration`, `cover_thumb`, and dimensions enhances the video preview before loading.</span>
<span class="sd">            `cover_thumb` must be at most 2 KB in size.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cover_thumb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cover_thumb</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_thumb</span><span class="p">(</span>
                <span class="n">cover_thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
                <span class="n">cover_width</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span>
                <span class="n">cover_height</span><span class="o">=</span><span class="n">cover_height</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">ext</span> <span class="o">=</span> <span class="n">DocumentsExt</span><span class="p">(</span>
            <span class="n">video</span><span class="o">=</span><span class="n">VideoExt</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="n">cover_height</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">video</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">VIDEO</span><span class="p">,</span>
            <span class="n">thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.send_voice">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_voice">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_voice</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">voice</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a voice message to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            voice (Union[FileDetails, DocumentMessage, FileInput]): The voice file to send.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat.</span>
<span class="sd">            caption (Optional[str]): Optional caption.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            duration (Optional[int]): Duration of the voice message in milliseconds.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent voice.</span>

<span class="sd">        Note:</span>
<span class="sd">            Supplying the `duration` is optional, but improves the waveform preview in Bale apps before playback.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">DocumentsExt</span><span class="p">(</span><span class="n">voice</span><span class="o">=</span><span class="n">VoiceExt</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">))</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">voice</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">VOICE</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.send_audio">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_audio">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_audio</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">audio</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">album</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">genre</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">track</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a music/audio file to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            audio (Union[FileDetails, DocumentMessage, FileInput]): The audio file to send.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat.</span>
<span class="sd">            caption (Optional[str]): Caption to accompany the audio.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            duration (Optional[int]): Duration of the audio in milliseconds.</span>
<span class="sd">            album (Optional[str]): Album title.</span>
<span class="sd">            genre (Optional[str]): Music genre.</span>
<span class="sd">            track (Optional[str]): Track name or number.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent audio.</span>

<span class="sd">        Note:</span>
<span class="sd">            Metadata such as `duration`, `album`, `genre`, and `track` are optional but improve the preview shown before loading the audio.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ext</span> <span class="o">=</span> <span class="n">DocumentsExt</span><span class="p">(</span>
            <span class="n">audio</span><span class="o">=</span><span class="n">AudioExt</span><span class="p">(</span><span class="n">album</span><span class="o">=</span><span class="n">album</span><span class="p">,</span> <span class="n">genre</span><span class="o">=</span><span class="n">genre</span><span class="p">,</span> <span class="n">track</span><span class="o">=</span><span class="n">track</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">AUDIO</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Client.send_gif">
<a class="viewcode-back" href="../../../pages/bot/client.html#aiobale.Client.send_gif">[docs]</a>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_gif</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">gif</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">FileDetails</span><span class="p">,</span> <span class="n">DocumentMessage</span><span class="p">,</span> <span class="n">FileInput</span><span class="p">],</span>
        <span class="n">chat_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">chat_type</span><span class="p">:</span> <span class="n">ChatType</span><span class="p">,</span>
        <span class="n">caption</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">reply_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Message</span><span class="p">,</span> <span class="n">InfoMessage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_thumb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FileInput</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cover_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">cover_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">message_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends an animated GIF to the specified chat.</span>

<span class="sd">        Args:</span>
<span class="sd">            gif (Union[FileDetails, DocumentMessage, FileInput]): The GIF file to send.</span>
<span class="sd">            chat_id (int): ID of the target chat.</span>
<span class="sd">            chat_type (ChatType): Type of the chat.</span>
<span class="sd">            caption (Optional[str]): Caption to accompany the GIF.</span>
<span class="sd">            reply_to (Optional[Union[Message, InfoMessage]]): Optional message to reply to.</span>
<span class="sd">            cover_thumb (Optional[FileInput]): Preview thumbnail ( 2 KB).</span>
<span class="sd">            cover_width (int): Width of the GIF in pixels. Default is 1000.</span>
<span class="sd">            cover_height (int): Height of the GIF in pixels. Default is 1000.</span>
<span class="sd">            duration (Optional[int]): Duration of the GIF in milliseconds.</span>
<span class="sd">            message_id (Optional[int]): Optional custom message ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            aiobale.types.Message: The message containing the sent GIF.</span>

<span class="sd">        Note:</span>
<span class="sd">            Supplying `duration`, dimensions, and `cover_thumb` improves the media preview. The thumbnail must not exceed 2 KB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">cover_thumb</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cover_thumb</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_thumb</span><span class="p">(</span>
                <span class="n">cover_thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
                <span class="n">cover_width</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span>
                <span class="n">cover_height</span><span class="o">=</span><span class="n">cover_height</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">ext</span> <span class="o">=</span> <span class="n">DocumentsExt</span><span class="p">(</span>
            <span class="n">gif</span><span class="o">=</span><span class="n">VideoExt</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">cover_width</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="n">cover_height</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_file_message</span><span class="p">(</span>
            <span class="n">file</span><span class="o">=</span><span class="n">gif</span><span class="p">,</span>
            <span class="n">chat_id</span><span class="o">=</span><span class="n">chat_id</span><span class="p">,</span>
            <span class="n">chat_type</span><span class="o">=</span><span class="n">chat_type</span><span class="p">,</span>
            <span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">,</span>
            <span class="n">reply_to</span><span class="o">=</span><span class="n">reply_to</span><span class="p">,</span>
            <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
            <span class="n">send_type</span><span class="o">=</span><span class="n">SendType</span><span class="o">.</span><span class="n">GIF</span><span class="p">,</span>
            <span class="n">thumb</span><span class="o">=</span><span class="n">cover_thumb</span><span class="p">,</span>
            <span class="n">ext</span><span class="o">=</span><span class="n">ext</span><span class="p">,</span>
        <span class="p">)</span></div>
</div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Alireza Jahani
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>